"use strict";!function(){var e=document.querySelector(".nav-toggler"),t=document.querySelector(".nav__overlay"),n=document.querySelector(".nav__list"),o=document.querySelector(".header__chevron"),r=document.querySelector(".message-form");e.addEventListener("click",function(o){n.classList.toggle("nav-open"),t.classList.toggle("overlay-open"),e.setAttribute("aria-expanded",String(n.classList.contains("nav-open")))},!1),n.addEventListener("click",function(e){n.classList.toggle("nav-open"),t.classList.toggle("overlay-open")},!1);var s,c=((s=document.createElement("button")).classList.add("btn--top","hidden"),s.innerHTML="&#xbb;",document.body.appendChild(s),s);function d(){(window.pageYOffset||document.documentElement.scrollTop>0)&&(window.scrollBy(0,-60),setTimeout(d,10))}window.addEventListener("scroll",function(e){window.pageYOffset||document.documentElement.scrollTop>=100?(c.classList.remove("hidden"),o.classList.add("hidden")):(c.classList.add("hidden"),o.classList.remove("hidden"))},!1),c.addEventListener("click",function(e){e.stopPropagation(),d()},!1),window.addEventListener("scroll",function(){window.scrollY||window.pageYOffset>80?document.body.classList.add("fixed-nav"):document.body.classList.remove("fixed-nav")}),window.addEventListener("scroll",function(){var e={},t=0;document.querySelectorAll(".section").forEach(function(t){e[t.id]=t.offsetTop});var n=document.documentElement.scrollTop||document.body.scrollTop;for(t in e)e[t]<=n&&(document.querySelector(".nav__link--active").setAttribute("class","nav__link"),document.querySelector("a[href*="+t+"]").setAttribute("class","nav__link--active"))}),r.addEventListener("submit",function(e){e.preventDefault();var t,n,o=[],s=!1;r.querySelectorAll(".message-form__elem").forEach(function(e){"text"===e.type||"textarea"===e.type?s=""!==e.value:"email"===e.type&&(s=-1!==e.value.indexOf("@")),s?e.classList.remove("error"):(o.push(e.dataset.error),e.classList.add("error"))}),o.length?(t=o,(n=document.querySelector("ul.errors"))||(n=document.createElement("ul")).classList.add("errors"),n.innerHTML="",t.forEach(function(e){var t=document.createElement("li");t.textContent=e,n.appendChild(t)}),r.parentNode.insertBefore(n,r)):r.submit()},!1)}();